<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily AI News ‚Äì ÊîπËâØÁâà</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header with title and persona toggle -->
    <header class="header">
        <div class="container">
            <h1>Daily AI News</h1>
            <p>XË®ò‰∫ã„Å®RSSË®ò‰∫ã„Çí„Åæ„Å®„ÇÅ„ÅüÊúÄÊñ∞AI„Éã„É•„Éº„Çπ</p>
            <!-- Persona toggle integrated in header -->
            <div class="persona-toggle">
                <button class="active" data-persona="engineer">ÊäÄË°ìËÄÖÂêë„Åë</button>
                <button data-persona="business">„Éì„Ç∏„Éç„ÇπÂêë„Åë</button>
            </div>
        </div>
    </header>

    <!-- Summary statistics -->
    <section class="stats">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value" id="stat-total">0</div>
                    <div class="stat-label">Ë®ò‰∫ãÊï∞</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="stat-avg-score">0%</div>
                    <div class="stat-label">Âπ≥Âùá„Çπ„Ç≥„Ç¢</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="stat-tier1">0</div>
                    <div class="stat-label">È´ò‰ø°È†º„ÇΩ„Éº„Çπ</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Filter panel -->
    <section class="filters">
        <div class="container">
            <div class="filter-group">
                <div class="filter-item">
                    <label for="source-tier-filter">„ÇΩ„Éº„ÇπÁ®ÆÂà•</label>
                    <select id="source-tier-filter">
                        <option value="all">„Åô„Åπ„Å¶</option>
                        <option value="1">È´ò‰ø°È†º„ÇΩ„Éº„Çπ</option>
                        <option value="2">‰∏ÄËà¨„ÇΩ„Éº„Çπ</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label for="min-score-filter">ÊúÄ‰Ωé„Çπ„Ç≥„Ç¢</label>
                    <input type="range" id="min-score-filter" min="0" max="1" step="0.1" value="0" />
                </div>
                <div class="filter-item">
                    <input id="search-input" type="text" placeholder="„Ç≠„Éº„ÉØ„Éº„Éâ„ÅßÊ§úÁ¥¢‚Ä¶" />
                </div>
            </div>
        </div>
    </section>

    <!-- Articles container -->
    <main>
        <div class="container">
            <div class="articles-grid" id="articles-container"></div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">¬© 2025 Daily AI News ‚Äì ÊîπËâØÁâà</div>
    </footer>

    <script>
        // Persona-specific metric labels
        const metricLabels = {
            engineer: ['ÊäÄË°ìÁöÑÊñ∞Ë¶èÊÄß', 'ÂÆüË£ÖÂèØËÉΩÊÄß', 'ÂÜçÁèæÊÄß', 'ÂÆüÂãôÂØÑ‰∏é', 'Â≠¶Áøí‰æ°ÂÄ§'],
            business: ['‰∫ãÊ•≠ÂΩ±ÈüøÂ∫¶', 'ÊäïË≥áÂà§Êñ≠ÊùêÊñô', 'Êà¶Áï•ÁöÑ‰æ°ÂÄ§', 'ÂÆüÁèæÂèØËÉΩÊÄß', '„É™„Çπ„ÇØË©ï‰æ°']
        };

        const breakdownOrder = {
            engineer: ['temporal', 'relevance', 'trust', 'quality', 'actionability'],
            business: ['quality', 'relevance', 'trust', 'temporal', 'actionability']
        };

        // Sample articles data (expanded from CSV backup)
        const articles = [
            {
                id: "demo-001",
                title: "OpenAI GPT-4 Turbo: Enhanced Performance and Reduced Costs",
                url: "https://openai.com/index/gpt-4-turbo/",
                source: "OpenAI",
                source_tier: 1,
                published_date: "2024-11-06",
                content: "OpenAI has released GPT-4 Turbo, featuring improved instruction following, JSON mode, reproducible outputs, and updated knowledge cutoff. The model offers enhanced performance at reduced costs, making advanced AI more accessible.",
                summary_note: "‚Äª Ëã±Ë™ûË®ò‰∫ã„ÇíÊó•Êú¨Ë™ûË¶ÅÁ¥ÑÔºöOpenAI GPT-4 Turbo„ÅÆÊÄßËÉΩÂêë‰∏ä„Å®„Ç≥„Çπ„ÉàÂâäÊ∏õ„Å´„Å§„ÅÑ„Å¶",
                evaluation: {
                    engineer: {
                        total_score: 0.92,
                        breakdown: { quality: 0.95, relevance: 0.90, temporal: 0.88, trust: 0.98, actionability: 0.89 },
                        recommendation: "must_read"
                    },
                    business: {
                        total_score: 0.88,
                        breakdown: { quality: 0.95, relevance: 0.85, temporal: 0.88, trust: 0.98, actionability: 0.74 },
                        recommendation: "recommended"
                    }
                }
            },
            {
                id: "x-001",
                title: "RAG (Retrieval Augmented Generation) revolutionizing AI knowledge systems",
                url: "https://arxiv.org/",
                source: "X(@AndrewYNg)",
                source_tier: 1,
                published_date: "2025-01-23",
                content: "RAG (Retrieval Augmented Generation) is revolutionizing how AI systems handle knowledge. New paper shows 40% improvement in factual accuracy. This could be the key to solving hallucinations in LLMs. #AI #MachineLearning",
                evaluation: {
                    engineer: {
                        total_score: 0.87,
                        breakdown: { quality: 0.90, relevance: 0.85, temporal: 0.92, trust: 0.88, actionability: 0.80 },
                        recommendation: "recommended"
                    },
                    business: {
                        total_score: 0.74,
                        breakdown: { quality: 0.90, relevance: 0.70, temporal: 0.92, trust: 0.88, actionability: 0.60 },
                        recommendation: "recommended"
                    }
                }
            },
            {
                id: "x-002",
                title: "Multimodal AI models showing incredible progress",
                url: "https://github.com/anthropics",
                source: "X(@ylecun)",
                source_tier: 1,
                published_date: "2025-01-23",
                content: "Multimodal AI models are showing incredible progress. New Claude can now understand complex diagrams and generate code from sketches. The future of human-AI interaction is visual. üî• #AI #MultiModal",
                evaluation: {
                    engineer: {
                        total_score: 0.85,
                        breakdown: { quality: 0.88, relevance: 0.82, temporal: 0.90, trust: 0.85, actionability: 0.80 },
                        recommendation: "recommended"
                    },
                    business: {
                        total_score: 0.78,
                        breakdown: { quality: 0.88, relevance: 0.72, temporal: 0.90, trust: 0.85, actionability: 0.75 },
                        recommendation: "recommended"
                    }
                }
            },
            {
                id: "x-003",
                title: "AI Agents: The Next Frontier in Autonomous AI",
                url: "https://openai.com/",
                source: "X(@karpathy)",
                source_tier: 1,
                published_date: "2025-01-23",
                content: "AI Agents are the next frontier. OpenAI's new agent framework can autonomously debug code, manage tasks, and even write documentation. We're moving from tools to colleagues. Thread üßµ #AIAgents",
                evaluation: {
                    engineer: {
                        total_score: 0.91,
                        breakdown: { quality: 0.93, relevance: 0.90, temporal: 0.95, trust: 0.90, actionability: 0.87 },
                        recommendation: "must_read"
                    },
                    business: {
                        total_score: 0.83,
                        breakdown: { quality: 0.93, relevance: 0.78, temporal: 0.95, trust: 0.90, actionability: 0.75 },
                        recommendation: "recommended"
                    }
                }
            },
            {
                id: "x-004",
                title: "Fine-tuning LLMs for medical diagnosis becomes 50x cheaper",
                url: "https://arxiv.org/",
                source: "X(@emilywillingham)",
                source_tier: 2,
                published_date: "2025-01-23",
                content: "Fine-tuning LLMs for medical diagnosis just got 50x cheaper with new LoRA techniques. Healthcare AI is about to accelerate dramatically. #HealthcareAI #FineTuning #LLM",
                evaluation: {
                    engineer: {
                        total_score: 0.79,
                        breakdown: { quality: 0.82, relevance: 0.78, temporal: 0.88, trust: 0.75, actionability: 0.72 },
                        recommendation: "recommended"
                    },
                    business: {
                        total_score: 0.85,
                        breakdown: { quality: 0.82, relevance: 0.88, temporal: 0.88, trust: 0.75, actionability: 0.92 },
                        recommendation: "recommended"
                    }
                }
            },
            {
                id: "x-005",
                title: "Diffusion models for real-time 3D scene generation",
                url: "https://arxiv.org/",
                source: "X(@hardmaru)",
                source_tier: 1,
                published_date: "2025-01-23",
                content: "New paper on diffusion models for 3D generation is mind-blowing. We can now generate complex 3D scenes from text prompts in real-time. #GenerativeAI #3D #Diffusion",
                evaluation: {
                    engineer: {
                        total_score: 0.86,
                        breakdown: { quality: 0.88, relevance: 0.83, temporal: 0.92, trust: 0.82, actionability: 0.85 },
                        recommendation: "recommended"
                    },
                    business: {
                        total_score: 0.71,
                        breakdown: { quality: 0.88, relevance: 0.65, temporal: 0.92, trust: 0.82, actionability: 0.58 },
                        recommendation: "consider"
                    }
                }
            },
            {
                id: "x-006",
                title: "GitHub Copilot Enterprise: Fine-tuning on company codebases",
                url: "https://github.com/features/copilot",
                source: "X(@gdb)",
                source_tier: 1,
                published_date: "2025-01-24",
                content: "GitHub Copilot now supports fine-tuning on your company's codebase. This changes everything for enterprise development. Productivity gains are going to be massive. #GitHubCopilot #AI #Programming",
                evaluation: {
                    engineer: {
                        total_score: 0.94,
                        breakdown: { quality: 0.92, relevance: 0.95, temporal: 0.95, trust: 0.95, actionability: 0.93 },
                        recommendation: "must_read"
                    },
                    business: {
                        total_score: 0.89,
                        breakdown: { quality: 0.92, relevance: 0.88, temporal: 0.95, trust: 0.95, actionability: 0.85 },
                        recommendation: "must_read"
                    }
                }
            },
            {
                id: "x-007",
                title: "GPT-5 training progressing faster than expected",
                url: "https://openai.com/",
                source: "X(@sama)",
                source_tier: 1,
                published_date: "2025-01-24",
                content: "GPT-5 training is progressing faster than expected. New architecture improvements are showing 10x better performance on reasoning tasks. The future is accelerating. #GPT5 #OpenAI",
                evaluation: {
                    engineer: {
                        total_score: 0.93,
                        breakdown: { quality: 0.95, relevance: 0.92, temporal: 0.98, trust: 0.90, actionability: 0.90 },
                        recommendation: "must_read"
                    },
                    business: {
                        total_score: 0.87,
                        breakdown: { quality: 0.95, relevance: 0.85, temporal: 0.98, trust: 0.90, actionability: 0.75 },
                        recommendation: "recommended"
                    }
                }
            },
            {
                id: "x-008",
                title: "Deep learning evolving beyond gradient descent",
                url: "https://arxiv.org/",
                source: "X(@fchollet)",
                source_tier: 1,
                published_date: "2025-01-24",
                content: "Deep learning is evolving beyond gradient descent. New meta-learning approaches are achieving human-level sample efficiency. This is the path to artificial general intelligence. #DeepLearning #AGI",
                evaluation: {
                    engineer: {
                        total_score: 0.88,
                        breakdown: { quality: 0.90, relevance: 0.87, temporal: 0.92, trust: 0.85, actionability: 0.86 },
                        recommendation: "recommended"
                    },
                    business: {
                        total_score: 0.76,
                        breakdown: { quality: 0.90, relevance: 0.68, temporal: 0.92, trust: 0.85, actionability: 0.65 },
                        recommendation: "recommended"
                    }
                }
            },
            {
                id: "demo-003",
                title: "Cursor„Å®Claude Code„Çí‰Ωø„Å£„ÅüFigma„Éó„É©„Ç∞„Ç§„É≥„ÅÆÈñãÁô∫„Å´„Å§„ÅÑ„Å¶Êõ∏„Åç„Åæ„Åó„Åü", 
                url: "https://note.com/shingo2000/",
                source: "X(@shingo2000)",
                source_tier: 2,
                published_date: "2024-11-04",
                content: "Cursor„Å®Claude Code„Çí‰Ωø„Å£„ÅüFigma„Éó„É©„Ç∞„Ç§„É≥„ÅÆÈñãÁô∫„Å´„Å§„ÅÑ„Å¶Êõ∏„Åç„Åæ„Åó„Åü„ÄÇ‰ªä„Åæ„ÅßCursor„Çí‰Ωø„Å£„ÅüAI„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„Çí„Åó„Å¶„ÅÑ„Åæ„Åó„Åü„Åå„ÄÅClaude Code„ÇíÂ∞éÂÖ•„Åó„Å¶Ëá™ÂàÜ„Åß„Ç≥„Éº„Éâ„ÇíÊõ∏„ÅèÊ©ü‰ºö„Åå„Åª„Å®„Çì„Å©ÁÑ°„Åè„Å™„Å£„ÅüÊÑü„Åò„Åß„Åô„ÄÇ",
                evaluation: {
                    engineer: {
                        total_score: 0.75,
                        breakdown: { quality: 0.70, relevance: 0.85, temporal: 0.88, trust: 0.65, actionability: 0.75 },
                        recommendation: "recommended"
                    },
                    business: {
                        total_score: 0.62,
                        breakdown: { quality: 0.70, relevance: 0.55, temporal: 0.88, trust: 0.65, actionability: 0.45 },
                        recommendation: "consider"
                    }
                }
            },
            {
                id: "demo-004", 
                title: "[R] routers to foundation models?",
                url: "https://www.reddit.com/r/MachineLearning/",
                source: "Reddit MachineLearning",
                source_tier: 1,
                published_date: "2024-11-03",
                content: "AI„ÉªÊäÄË°ìÂàÜÈáé„Å´Èñ¢„Åô„Çãrouters to foundation models„Å´„Å§„ÅÑ„Å¶„ÅÆË≠∞Ë´ñ„ÄÇÊúÄÊñ∞„ÅÆÂãïÂêë„ÇÑÊäÄË°ìÈñãÁô∫„Å´„Å§„ÅÑ„Å¶„ÄÇ",
                evaluation: {
                    engineer: {
                        total_score: 0.58,
                        breakdown: { quality: 0.44, relevance: 0.72, temporal: 0.66, trust: 0.60, actionability: 0.48 },
                        recommendation: "consider"
                    },
                    business: {
                        total_score: 0.35,
                        breakdown: { quality: 0.44, relevance: 0.25, temporal: 0.66, trust: 0.60, actionability: 0.28 },
                        recommendation: "skip"
                    }
                }
            }
        ];

        let currentPersona = 'engineer';
        let filteredArticles = [...articles];

        // Initialize the application
        function init() {
            renderArticles();
            updateStats();
            setupEventListeners();
        }

        function setupEventListeners() {
            // Persona toggle buttons
            document.querySelectorAll('.persona-toggle button').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.persona-toggle button').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentPersona = btn.dataset.persona;
                    renderArticles();
                    updateStats();
                });
            });

            // Article persona toggle buttons
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('persona-btn')) {
                    const card = e.target.closest('.article-card');
                    const articleId = card.dataset.id;
                    const persona = e.target.dataset.persona;
                    
                    // Update active button
                    card.querySelectorAll('.persona-btn').forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');
                    
                    // Update evaluation display
                    updateArticleEvaluation(card, articleId, persona);
                }
            });

            // Filter controls
            document.getElementById('source-tier-filter').addEventListener('change', applyFilters);
            document.getElementById('min-score-filter').addEventListener('input', applyFilters);
            document.getElementById('search-input').addEventListener('input', applyFilters);
        }

        function applyFilters() {
            const tierFilter = document.getElementById('source-tier-filter').value;
            const minScore = parseFloat(document.getElementById('min-score-filter').value);
            const searchTerm = document.getElementById('search-input').value.toLowerCase();

            filteredArticles = articles.filter(article => {
                const tierMatch = tierFilter === 'all' || article.source_tier.toString() === tierFilter;
                const scoreMatch = article.evaluation[currentPersona].total_score >= minScore;
                const searchMatch = !searchTerm || 
                    article.title.toLowerCase().includes(searchTerm) ||
                    article.content.toLowerCase().includes(searchTerm);
                
                return tierMatch && scoreMatch && searchMatch;
            });

            renderArticles();
            updateStats();
        }

        function renderArticles() {
            const container = document.getElementById('articles-container');
            
            // Sort by evaluation score descending
            const sortedArticles = [...filteredArticles].sort((a, b) => 
                b.evaluation[currentPersona].total_score - a.evaluation[currentPersona].total_score
            );

            container.innerHTML = sortedArticles.map(article => {
                const eval_data = article.evaluation[currentPersona];
                const otherPersona = currentPersona === 'engineer' ? 'business' : 'engineer';
                const otherEval = article.evaluation[otherPersona];

                return `
                    <div class="article-card" data-id="${article.id}">
                        <div class="article-header">
                            <h2 class="article-title">
                                <a href="${article.url}" target="_blank">${article.title}</a>
                            </h2>
                            <div class="article-meta">
                                <span class="source tier-${article.source_tier}">${article.source}</span>
                                <span class="date">${article.published_date}</span>
                            </div>
                        </div>
                        <div class="article-content">${article.content}</div>
                        ${article.summary_note ? `<div class="summary-note">${article.summary_note}</div>` : ''}
                        
                        <div class="evaluation-panel">
                            <div class="score-display">
                                <div class="total-score">${Math.round(eval_data.total_score * 100)}%</div>
                                <div class="persona-toggle">
                                    <button class="persona-btn ${currentPersona === 'engineer' ? 'active' : ''}" data-persona="engineer">ÊäÄË°ìËÄÖ</button>
                                    <button class="persona-btn ${currentPersona === 'business' ? 'active' : ''}" data-persona="business">„Éì„Ç∏„Éç„Çπ</button>
                                </div>
                            </div>
                            
                            <div class="score-breakdown">
                                ${breakdownOrder[currentPersona].map((key, i) => `
                                    <div class="score-item">
                                        <div class="score-value">${Math.round(eval_data.breakdown[key] * 100)}</div>
                                        <div class="score-label">${metricLabels[currentPersona][i]}</div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="recommendation rec-${eval_data.recommendation}">
                                ${getRecommendationText(eval_data.recommendation)}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function updateArticleEvaluation(card, articleId, persona) {
            const article = articles.find(a => a.id === articleId);
            if (!article) return;

            const eval_data = article.evaluation[persona];
            
            // Update total score
            card.querySelector('.total-score').textContent = Math.round(eval_data.total_score * 100) + '%';
            
            // Update breakdown scores
            const breakdown = card.querySelector('.score-breakdown');
            breakdown.innerHTML = breakdownOrder[persona].map((key, i) => `
                <div class="score-item">
                    <div class="score-value">${Math.round(eval_data.breakdown[key] * 100)}</div>
                    <div class="score-label">${metricLabels[persona][i]}</div>
                </div>
            `).join('');
            
            // Update recommendation
            const recommendation = card.querySelector('.recommendation');
            recommendation.className = `recommendation rec-${eval_data.recommendation}`;
            recommendation.textContent = getRecommendationText(eval_data.recommendation);
        }

        function getRecommendationText(rec) {
            const texts = {
                must_read: 'MUST READ',
                recommended: 'RECOMMENDED', 
                consider: 'CONSIDER',
                skip: 'SKIP'
            };
            return texts[rec] || rec;
        }

        function updateStats() {
            document.getElementById('stat-total').textContent = filteredArticles.length;
            
            const avgScore = filteredArticles.length > 0 
                ? filteredArticles.reduce((sum, article) => sum + article.evaluation[currentPersona].total_score, 0) / filteredArticles.length
                : 0;
            document.getElementById('stat-avg-score').textContent = Math.round(avgScore * 100) + '%';
            
            const tier1Count = filteredArticles.filter(article => article.source_tier === 1).length;
            document.getElementById('stat-tier1').textContent = tier1Count;
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>